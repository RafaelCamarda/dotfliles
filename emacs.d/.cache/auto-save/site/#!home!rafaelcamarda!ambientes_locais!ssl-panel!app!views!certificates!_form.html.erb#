<hr/>
<div class="col-md-12 ls-md-margin-bottom">
  <h2 class="ls-title-4" id="csr-info-title"><%= t('.csr_info.csr_data') %></h2>
  <p><%= t('.csr_info.check_csr_data') %></p>
  <div class="col-md-4">
    <h3 class="ls-title-5"><%= t('.csr_info.domain') %></h3>
    <h4 class="ls-title-6"><%= @certificate.domain_name %>
      <a href="#"
         class="ls-ico-help" data-trigger="hover"
         data-ls-module="popover"
         data-content="<%= t('.csr_info.domain_hint') %>"
      >
      </a></h4><br/>
    <h3 class="ls-title-5"><%= t('.csr_info.organization') %></h3>
    <h4 class="ls-title-6"><%= @certificate.organization %></h4>
  </div>
  <div class="col-md-4">
    <h3 class="ls-title-5"><%= t('.csr_info.organization_unit') %></h3>
    <h4 class="ls-title-6"><%= @certificate.organization_unit || '--' %></h4><br/>
    <h3 class="ls-title-5"><%= t('.csr_info.country') %></h3>
    <h4 class="ls-title-6"><%= @certificate.country %></h4>
  </div>
  <div class="col-md-4">
    <h3 class="ls-title-5"><%= t('.csr_info.state') %></h3>
    <h4 class="ls-title-6"><%= @certificate.state %></h4><br/>
    <h3 class="ls-title-5"><%= t('.csr_info.city') %></h3>
    <h4 class="ls-title-6"><%= @certificate.city %></h4>
  </div>
</div>
<hr class="ls-clear-both" />
<%= simple_form_for(
  @certificate,
  url: certificates_path,
  html: { class: 'ls-form row certificate-form' },
  data: {
    method: :post,
    remote: false,
    unexpected_error_message: 'Houve um erro ao tentar solicitar o certificado
    SSL. Por favor, tente mais tarde.'
  }
) do |f| %>
  <%= f.input :csr, as: :hidden, input_html: { value: @certificate.csr } %>
  <%= f.input :order_token, as: :hidden, input_html: { value: @certificate.order_token } %>

  <%= f.input :approver_email,
    wrapper: :loca_select,
    as: :select,
    required: 'required',
    collection: approver_emails,
    input_html: { class: 'col-md-6' }
  %>

  <%= f.input :delivery_email,
    wrapper: :loca_input_text,
    as: :email,
    hint: "Por padrão o campo é preenchido com o e-mail cadastrado na Central
    do Cliente. Mas é possível trocá-lo por outro e-mail de sua preferência.",
    required: 'required',
    label: 'E-mail que receberá o certificado de instalação',
    input_html: { value: @customer.email }
  %>

<div class="col-md-6">
  <p><b>Dica</b>: A alteração do e-mail acima <b>não</b> atualiza automaticamente
  seu cadastro na Locaweb. Caso queira mudá-lo, acesse a
  <a href="<%= Rails.application.config.app['customer_central_url'] %>/account" target="_blank">Central do Cliente</a>
  e faça a atualização. Para garantir a comunicação e a qualidade dos serviços
  Locaweb é importante manter seus dados sempre atualizados.</p>
  <p data-error-messages-order class="ls-display-none ls-color-danger"></p>
</div>

<div class="container col-md-12">
  <%= f.button :submit,
    'Solicitar Emissão',
    class: 'ls-float-right ls-btn-primary',
    data: { disable_with: 'Enviando...' } %>
</div>
<% end %>
